'''
Author: xiaoyichao xiaoyichao@haohaozhu.com
Date: 2022-12-05 11:37:24
LastEditors: xiaoyichao xiaoyichao@haohaozhu.com
LastEditTime: 2022-12-20 15:01:45
FilePath: /search_opt/data_utils/get_cv_vec.py
Description: 获取query 和（或者）内容的图片向量
'''
import json
import requests
import configparser
import os
import sys
os.chdir(sys.path[0])
sys.path.append("../")
from common.common_log import Logger, get_log_name
from common.send_message import send_msg


abs_path = os.path.realpath(__file__)
all_log_name = get_log_name(abs_path, "all")
err_log_name = get_log_name(abs_path, "error")

log = Logger(log_name=all_log_name)
err_log = Logger(log_name=err_log_name)

headers = {'Content-Type': 'application/json','Connection': 'close'}
# url='http://172.16.10.10:2355/cv_embedding'
# url='http://172.17.39.101:2355/cv_embedding'


search_opt_common_config_file = "/home/resource_config/search_opt/common.ini"
search_opt_common_config = configparser.ConfigParser()
search_opt_common_config.read(search_opt_common_config_file)
url = search_opt_common_config["cv_url"]['url']
path = "cv_embedding"
url = url+"/"+path



def get_pic_vec(obj_list=[], query="", dim=768, url=url):
    # 根据内容id或者主图的vec
    data = {
        "obj_list":obj_list,
        "query":query,
        "dimension":dim
    }
    # print("data:", data)
    if dim == 128:
        url =  "http://ml-cv-embedding.haohaozhu.me/cv_embedding"

    response = requests.post(url=url, headers=headers, data=json.dumps(data))
    # print("response:", response)
    data = response.json()
    if len(obj_list) > 0:
        log.logger.info("内容id 数量"+ str(len(obj_list)) + "query:" + query +" get_pic_vec time_consume:" + data["time_consume"])
    docs_vec = data["data"]["docs"]
    query_vec = data["data"]["query"]
    return query_vec, docs_vec, data["time_consume"]


# def get_pic_vec(obj_list=[], query="", dim=768, url=url):
#     # 根据内容id或者主图的vec
#     data = {
#         "obj_list":obj_list,
#         "query":query,
#         "dimension":dim
#     }
#     if dim == 128:
#         url =  "http://ml-cv-embedding.haohaozhu.me/cv_embedding"
#     try: 
#         print("url", url)    
#         response = requests.post(url=url, headers=headers, data=json.dumps(data))
#         data = response.json()
#         if len(obj_list) > 0:
#             log.logger.info("内容id 数量"+ str(len(obj_list)) + "query:" + query +" get_pic_vec time_consume:" + data["time_consume"])
#         docs_vec = data["data"]["docs"]
#         query_vec = data["data"]["query"]
#         return query_vec, docs_vec, data["time_consume"]
#     except Exception as e:
#         log.logger.error("get_pic_vec"+str(e))
#         err_log.logger.error("get_pic_vec"+str(e))
#         send_msg(str(data) + " get_pic_vec" + " error")
#         return dim*[0], dim*[0]*len(obj_list), 0.0


if __name__ == '__main__':
    query = "地板通铺"
    # obj_list = ['00612n900001uayw', '005x0zb00008wsh1', '005qfru000000wl0', '005lj2a00000xjdy', '005qfzy000060zny', '000whxv00000vtj0', '005hevm000000kuk', '005t6cb00003hdmu', '0061yfe00003xtrh', '005dt2o00005kfsg', '004unk000000b5bj', '001t9lw000021g2z', '001n1e400000pbgt', '005qso5000001yty', '0060okq00001d7ra', '005d4tm00003q164', '004wcta00006toy4', '005ypck000000j19', '0061htn000002364', '005sb4a000000sg7', '004yyc6000071jgo', '0060y1a000006psj', '005b6or00007r10u', '005vnvh000002zga', '003roco00003dzl6', '005xjhe00007qs5o', '005tvjc00008u501', '005rjt500001yyqk', '005jtbw00000nxsf', '002nk1s000014k74', '006244200000ym70', '005u8gz00001ji4q', '005z72s00000kv8w', '005f7je00000pwb0', '005cun0000013nt0', '005qkwv00001dqis', '0010iuy00001ecp5', '000fh5g000009gn8', '0051soh000021xvv', '005y7an000008aj3', '005webl00005m3n4', '005a0o400003o5xj', '005obg600007uryg', '005r5wu0000572ht', '000j8gw00000asrd', '005a10t00007q505', '004ztwp0000439kw', '000ktk2000000ah8', '0006mxm000006x9a', '005f7yf00004i84x', '005pbq700007fxan', '0000ken00000rl6k', '005fqg200002zfn7', '00016ap040004qfs', '005ykm000007x8we', '000252g04001bxw7', '005momn000064mlg', '001mh1800000ccw2', '005kqjp000007u0j', '005ti6r00005jdhh', '005ntju00002ll8o', '0061a9a000002xi4', '005wfft00000byn8', '005ux8g00008y4ka', '005uac1000004owi', '0060l4v00000czwn', '005tr7s00002stvi', '0002n6j04001v27q', '005o4g700006u4q1', '005tx0y00003f7y3', '005v8ub00006obre', '0055vt5000056840', '0010s0t0000114jh', '005sykt000009jst', '000h6zc000016b3p', '004ygfe00000e20l', '00041rc000003u9y', '005myns00008chhj', '0014d9h00000bdg5', '005o9li00000hl1y', '001xsrh00004gccv', '005zstj00003dkyg', '000wsr5000000dc5', '001kzy800000op13', '005n3qq00007o2mm', '003atmm00005javj', '000bhyr00000b6nk', '004te9300003facz', '000jvr400000sznz', '005pj64000000q4h', '005tgt200007hyvn', '005uup400004abm4', '005z0l700003wnlj', '001ehxf000000aw3', '001lnfh00000hi42', '0039fle00000qiqc', '004o7sz00005yg3b', '005dlzx000000agt', '001wu7f00004xe3b', '000nscf000001yxq', '005himn0000083uk', '006036x0000083uk', '002ueu4000006zkh', '003wer900001fgcl', '003amrp00002d7q9', '004345600006hxxj', '005mm1800005hgbl', '005tjvw00000tg4g', '005vh2b00007t0jc', '0015w0i00001dw40', '005sw3g00004djt8', '005wkxb000013dic', '005wg4r000005ydv', '0029o5l00001bxkx', '001k7y800001qcc8', '0044auh000008pan', '0059ft40000018bk', '005r8sv0000168id', '005av0a000001o1m', '005si0w00007opo5', '005yixm000023hqb', '005ygo80000695m8', '004i42e000008pan', '000jd6200000b1t4', '003mcup00003facz', '005vc25000038mjh', '00020li040001xtf', '005m2ag000029dqw', '00280mo000001j9i', '001uqi100002qfpf', '002o06x000002mmy', '000obt600000cljb', '005xs5a00008zn9r', '003imex00002narg', '0062hea00003a3ms', '005jy1y000080oym', '005xwfb000090jq6', '003i64v00000697z', '0005mww000000wm0', '000pa7w00000q1dn', '005yg1b00008oewi', '001c0mr0000202z3', '004t59m000001oce', '005r7wv000008hp2', '0055j94000062xj0', '0061h9c00007d3yp', '001twrx000001yxt', '0041rwu000048y5y', '000f2aq00000gcad', '000r8g0000010ubo', '000cyu500000aiaf', '0002z480000015uq', '0043m6400001e57x', '005vg7h00001lqvb', '005bpjh00004otw7', '002056x0000377ki', '005th06000007ym3', '005vsdh00006aqzy', '00437sh000001j06', '0061ogz00004rk9h', '00623f800000snbv', '000k4yp000000tt6', '0061o87000019cl4', '005mbi000008jrqg', '00002r20000009af', '005cdlo00006ixws', '005c94r00007v3je', '005wnlx00007n8pl', '005o1z400001x0sy', '005tvg900003bp8u', '000cu3200000162d', '0053d5400007dum4', '001y9z3000000b0k', '005uv4t00008m1gh', '005szlb00003sqis', '003zxi300005bd68', '005yres00008uh1c', '005vt5y00000vvqc', '004j5qc00000qxzk', '005vlp000000zzic', '000q25800000a0p2', '005nzov00002jwfi', '006108b00006ap79', '004v3k500006ybsm', '005xv4200008z5zk', '005t44u0000376pq', '005xikf000080osq', '005oyu800008nkcq', '005yonh00000tblm', '001007400000l00p', '0060yvz000001j9i', '0060p0a000001yty', '005hnwr000009nvl', '00609b3000010kf5', '005ru9u00008swvp', '003h69j000036rzq', '004yjvp00000d3c7', '005y2y1000001d7o', '002aqyi00002jpji', '005z3b200001ukan', '005xxui000058scw', '000045j000001m8o', '000cedt000006anf', '005vrrg00000suwy', '005thpk00007bidr', '002np9q000052pxn', '003k9bd00002le5i', '005nb8s00003s48b', '000cx6b000013711', '005oxro00003vdsb', '00629sr00000sbi0', '004xxeg000011gq0', '005t6650000249uq', '0017k3t00001pmtq', '005f1gk00003vu36', '001km9b00000znts', '005iv2n00000a8wp', '0060i2v00001hpo0', '005rqq900001zmm0', '005hmsm00005p59t', '002stu5000008ort', '0051s03000005id9', '0060e6s00006pbjo', '005yf4900002xc2k', '005ttbu00000ugqu', '00016f9000003n9d', '004fq7600000i8ln', '00002ky00000tndv', '005uyaf000012ynf', '005zrjh00004djt8', '005c3ha00003k0ey', '005jy7a000043sis', '005yrzr000030e96', '001m5bh000014mra', '000mm5u00000la05', '005xqcn00004scpr', '000ihs400000idrw', '001idq100000ewdd', '002xs1200003695p', '005awov00000z3y4', '005u9aw00008xs5r', '005r2af00003o4gu', '005l47000000n0eo', '004xn7c000059r3j', '000clhs000000lz5', '001lt0400000d4zv', '005p5a9000055hvq', '0001qrj00000baq4', '003m8dy000058ceu', '003mi0j00004bz9s',
    #             '003ucrs00000csl0', '005t2q200003fanl', '004365t00001cgym', '000j29g00000nqq3', '005v6ax00008wqnp', '005wmal000001j9i', '005ihvv00008ataf', '005z1vt00001gaqv', '000nreb00001iir8', '000f8km00000hqib', '005xv1000000d1ap', '001pu4400000d3c7', '001yf15000015zlr', '001mugf000002y5m', '0046uo30000194vh', '0060bx000007bm8x', '004zuog000007nn2', '004ytik000007qct', '0060muv000028zwq', '005p1ru00003jpr5', '00601dc00001lq0a', '001s1re00003bejw', '005o5s10000704g9', '005o5rz0000704g9', '002y9gu00004dsin', '004ggmq000022vri', '00025y504000zps6', '005uylk00000uvi7', '005ve9400007pq11', '005xllx0000151xp', '005waem00000att2', '0052jx300001nb55', '001y71l00000nusu', '0051eyu00001kh8b', '005j4dc00005ytyt', '005ye0f00007n2dq', '0000ntw00000tphg', '00520c000004z7dc', '000av6n000002qws', '006148700008j2gr', '0060gnz000010rs6', '004cgof0000072xb', '0060io200000fi20', '0043yik00000omep', '00609vr00008c4u8', '005ix5s00001tsb0', '0015t1900002xdjy', '000zc7v000005xcw', '004xxc500003r3t7', '003a4cn00005yo2q', '005trhj0000773kj', '005kma600000bzb1', '005t46000007le16', '005fa8z00007t0jc', '00621qz00007jrr3', '005crdb00001qwqs', '003vytz00005wjyl', '0060jjl00006nyoz', '005bwxr00001i44v', '004dsrd00005gx6l', '001ddt3000001nb9', '0061o6s00001igf3', '005bev0000000m89', '0033lq200001cgym', '001qjqw00000flbr', '005w6m200000rq6l', '000uc2l00000qike', '000bz8d0000009fj', '0061ku3000091rkm', '005hpz300006ejke', '005azf300000sci7', '00604gi00005zh7k', '005numd000072v60', '005x4cm000090lzy', '005zqpw000090jpa', '005skgd00007vkk4', '001t6vh00001jf0s', '005olbl00008cfb0', '005sneo00001rqlv', '005wudo00002zb7h', '005hnqc00007vkau', '00623k7000013nt0', '004qxmt00000561w', '0060ntt00000ym70', '001tyck00002awpz', '000uc8m000000s1g', '001j2et00000e3ni', '005fq9h0000186sl', '000u8wk000009tyf', '005be6e00007mc6m', '003pgbv00004lbta', '001szwi00003843i', '005tm14000082633', '005jwm9000018my5', '005zohk00005bptu', '001bd4k00000bj7t', '003tr5j000053ll1', '005n6fb00003f6nr', '004bw4d000034uzy', '004jb1500004otw7', '005wzxi00008yg8k', '005tw7800007jjim', '005de5100006ap79', '0048jg2000033e52', '005p84100003vu36', '005yxg200008wrz0', '005wtd900000d1ap', '0059g3800005yg3b', '000wgup00000r3is', '002rltn00004ozzf', '006246l000000ljr', '002522h00003wivx', '0060mad00002ow78', '0031vml00005javj', '000e347000005dez', '005txtu00003rsij', '005kzp8000077tiz', '001i1no000037a7j', '005r4to000009wrd', '0032ob700000snqs', '005v8mu000069d01', '000sw3000000rhyz', '005or4l00008o65v', '003o0ll00005ynyi', '005zhpn00008viqy', '005wm8q00000i8ln', '002pmck00004zxuf', '005g3oy00006u9dj', '0050loy00006fd6h', '0048wos00000b5bj', '0061et800007n620', '00017ba040001gyq', '005zml4000073aar', '0002cbz00000ft2e', '005y4bt00007o2mm', '005e6g100000e20l', '002d9rq00002znw9', '005kp5700003vdsb', '0026hzu00000099x', '005nka4000043sis', '000800k00000dg7d', '0010hl80000026by', '000by92000002gyz', '000dkkz00000lo4r', '005qdr100004vpxa', '003czcg00005z4c8', '0022wb400005207e', '0023hso000048jvi', '005qr9p000017kro', '0055tyr00000ugqu', '005x0vr00007ok8f', '001s33s00003x4iu', '000y29z00000naq1', '0035zlm0000265fz', '005y18x00007cpa6', '004tso3000030e96', '001w72400001lds2', '0001tb100000byxv', '00512em00001p3ar', '0060bd50000939je', '003vf0o00005w5ev', '005teb0000078sgv', '001she800000098m', '0034saw00000ld71', '005ui0k000010f3z', '005shch000001j9i', '005yd4m000006b3d', '005sutl000014lq6', '00605ml000075a2f', '0058sj7000008hp2', '000hv7f000006rmd', '001kh2900001ph0x', '001siwm00002t515', '001n2sq00001dsov', '005u5tr00008pwj9', '005wek300002uhoy', '001s87x00001krry', '005oc5900003bl9p', '0061b1g00008jbvc', '005m7a100001ji4q', '005duby000019cl4', '005v50v00007hd51', '005ji3t000004a7u', '00296ek00000zyeb', '005trjc00008ko7w', '001glhi000037jbb', '00020ql04000pc0c', '0032yli000054zz9', '0057r0a000000odm', '005z7m000008gc4h', '005wt5100003rsij', '003mcwn00000ym70', '003nuh800004koqx', '005rk4o00000s9wt', '000is8q000027f1f', '004gn3g00006q80j', '005s0xv000053apa', '0059dm600000att2', '0000l8f00000glo2', '005of0o000008ort', '005lcev00003o4w5', '005mxed000067sap', '000bj9800000gksv', '0006wg000000biuw', '000vgyp00000p8xa', '005f1q500003vcpq', '004duml00000are9', '005yx90000000zov', '005sk3100007grja', '005wytj00001cfj6', '005y5wt00008410f', '0061gia000085l32', '004f2uf0000051mk', '000k32x000000hnb', '000okb9000002dbs', '005d4ez000010lvl', '000d5yl000005vie', '005jf0400002n8w5', '005ccj900007ouir', '0054zll00005rs7o', '0062f0n000019pe6', '005430c00006v2t4', '005o5mv00005yj12', '0061ka000008yq6n', '0061s17000091u0g', '004wmes00004us5m', '003dgfk00003zrc6', '0061ja900005kf05', '005zfu600000a6dm', '004idqs00006ulfc', '005tfxq000003270', '000afxn00000zlbs', '002tfjf00001xk2e', '0015dyy000012113', '005xhkn00007osue', '000vvyc000014pe7', '004gv4j00002v0ok', '005kbbj000003j0g', '005f57r000063ybg', '005mkqw00006cb7v', '004zj3100006irij', '005kfsg00000d5oz', '001ul7e00000po16', '005wywb000003tl9', '005uyrf000069d01', '005dbul00006c2vx', '000n5hf00001hfxb', '00582py0000469l4', '005u0it00007x8we', '000w3m500000cbf6']
    obj_list=['004xcmo000014okr', '000b66f000001gg6', '0053dep00002bh3m', '000ba2e00000c9v6', '0061hwg00001f5ud', '005e9ej00001lds2', '00511l6000057m8p', '000wuge00000o8qg', '005azd9000035anp', '005kbhg000004owi', '003qxnm00001y41e', '004aqmk000031l1z', '003yvj20000568ub', '000g43b0000019a9', '005e77o00003lm9z', '00629km00007bm8x', '001tq6p000018jx0', '0057vgo00004mr2t', '004wutv000074nkg', '005k8c100008e794', '001w3zk00000mvn7', '0028npw000039dgr', '005ojoe00000gb47', '001lt5q000001hsu', '005ubfz00008wqug', '000vsei00000euf7', '005ts0c00008ugzj', '005fxro0000650is', '0049tmt000010ue4', '000x1bj0000052ii', '0046vw30000682ou', '005gp9s0000379ht', '005cyw7000050fwm', '000wmn500002jr4k', '005q61l00000tj6f', '005e84r000059fy7', '000i70900001zjrt', '0060905000072zv5', '001udxm00000hd0b', '000ugk8000015koj', '000rxu200000f20t', '00611ht00007i5hf', '005ah2y00001ajh6', '0061qij00002n4xb', '005b604000028tni', '005k98d00004zkc1', '005mbz200007od49', '005g7d7000007nn2', '005renn000060o1l', '0054xi100006ldas', '001zoe5000042vjy', '005jdzi000082uf3', '005ucuf0000050t3', '004y9xx00001n26w', '0047bp10000286uh', '005ujdo00001n1qf', '005kt0o00000ugqu', '001b98e000008x9n', '000ep670000017ed', '0061dla00007chai', '001xsjn00001p1qe', '005oy5s00007cpa6', '0058a8h00004b1qn', '005m07200002c9rm', '005spol00000dr1h', '002rfwa00004l8ni', '001qhzg000000t6i', '000l5mg000001k6e', '0060wq300008gjms', '004y9hr00006uj2w', '004xgm6000050ncb', '001lphe00000bhb7', '005txnz00000ioig', '005t3iq00006o85u', '001o0rl00003xeq3', '0012fy700000en4j', '003f76n00005s31r', '0013zsl00001bd07', '004mr2g00001hgco', '005pn4800003f7y3', '005jumo00000bjxb', '005doc800003jpr5', '0024a3500000e674', '003gx1a000052ja3', '004uy1z000003jmt', '0061omc00000ml6k', '005apgu000028ogg', '0062k2h000003f79', '0055lmk0000565f2', '0035x4p00000u24g', '00507f600001syke', '0002bj204000mbzi', '005ql3800004amub', '005x0b300005xiuh', '005mh3a00007nsu8', '002d4q00000015dy', '005w33i00008mx4w', '001sr0900001orqq', '003in1x000015zlr', '0033lxq000003sy2', '001khuw00000dcjc', '001pl4i00002azib', '001l3yb00000c8vz', '001plou000006x98', '005s5mf00008ty5s', '0050m22000018jx0', '005s08x00000c199', '0008b08000003ej3', '0053usf00004otw7', '0005ccj00000s6zk', '005kbq2000018bps', '005dfep000000jyr', '005124e00005ynyi', '000avqr00000zo49', '005ut0300006kocu', '005ho4600005bdls', '005j7ls00002vkff', '005mc9c00008j1st', '00623e300000sbi0', '005mic7000050pbt', '005vv5p00000z3y4', '005b59p00001lc2h', '0029yoi00000q8po', '005ndti00008757u', '001y0go00002stvi', '00605k20000917h4', '004npzk00000n0eo', '003mjz600000i7lp', '001ksas000000hf4', '0022toj000010h2a', '00029sm04000glo2', '0051xf600000jcjl', '0055qm900005kfsg', '005zsx300007bm8x', '00060qu00000gd45', '00230lg00003gbzs', '005e8no00005ynyi', '003s05r000003jdh', '005c740000069och', '005q9xu00007nwgn', '004anbj000024evv', '00625ek00008tqop', '000ttqs000004v38', '005kuid000037a7j', '005ekm600007aow2', '005nvst000007ym3', '005sux500004m6zd', '005ug0k00003facz', '005szib0000379ht', '005r58m00000nse8', '005ha7500004ndn4', '005hmh200001ty5r', '001prff000046dnf', '002pig4000011wvp', '000lfbh000001kw8', '005s9eh00005lqu8', '005lj7500006nm7s', '0051kgs000070r4e', '002yz4400000tp35', '0060gp200000hs87', '002ojyp00000qgov', '0000ysj00000ff7y', '001tbco00002gi63', '005wtja00008qbgr', '001484y000003vny', '002ht5o00000cskh', '005vwqf000073ekp', '004ckxa00003iptx', '0033i6l00003yui6', '005gelh0000858f9', '005rtlz00008tiko', '000tjmv00000bnh7', '004zkdc00004yxrl', '005zhj800005o7v8', '000u9l800000bnan', '001k40800000o0t1', '005romb00005itiq', '005nlcv00007p47w', '005iri5000006snx', '0001luf00000pel6', '005f8fn00001la3k', '005ki68000002zga', '004nmrh00005gx6l', '005kziq00003hxg5', '002b27600002pvxo', '005gf1000000d5oz', '001v31z00000no5t', '004d7u800000k3t2', '005x0k000000vnwc', '005rmo6000002nad', '005c1j700001kxyw', '001lkj3000001yxq', '0035z4600000z7uf', '005n6p900000yft6', '001o9bw00002k3ze', '005bj7m000001nyk', '001vej600003axkm', '005x7td000076y72', '0011oq700000au1k', '003r01l000003270', '005yewn00001pd7m', '0042dc200000w1k3', '000rhes0000162di', '003hqt500003eh48', '0053w2i00004abm4', '005wy7b00003e08g', '005n78500007sdsc', '00602h3000000evg', '005meti000034pmu', '0061jnx00003rsij', '0058ztx000079gbn', '005gl1a00007pmnn', '005nm7d00000nse8', '00339cy000011wvp', '0040ca800003t1r4', '005szxm00004comz', '000hihg000018voi', '000dz2q000003zz5', '005niey00001d6oq', '001pz24000007yhn', '000lt55000002boz', '0033yrh00000i3bs', '003etdl000010mn4', '005vcz300000l5d5', '005bbpz00000men2', '005pdef00006kocu', '001ulh400004pij6', '00575td000003sy2', '005gtww00001ln9w', '005edo900007my62', '0050g8500000148u', '00030qd000000ekc', '005by4o00000d5oz', '0003ujh000000wio', '005r89q00006pxbu', '004jp6y00004e34w', '003dt0100004wva4', '0017cw100001lxfd', '00045gv00000o4zk', '005h33k00006f1b8', '005ophn00002zbl2', '005p4nb000015kq3', '004wyi600006b4v4', '002lqo600000s973', '005ldcc00003ayfo', '002zhcg00000dw70', '001s6uc00004i2ck', '005y0ai00003xl4j', '0060c7x0000032mg', '003bw7000000jyxz', '00628er00008vap7', '005edtr00004s0hp', '0060jnp00008swvp', '004nwx2000045sby', '0028l5z000042ebm', '005tq7t00008wp23', '000m6hs000004baw', '005w6mp00000rq6l', '005h8kh00000ve09', '0060sf000000e7pr', '000f11h00000bjxb', '005yiid000033xpk', '0062gzr000008aj3', '005qxnm00007uxip', '003j9hi00000ww4v', '0058m0s00000abtq', '004kcff00004dnnl', '001q0s0000000odm', '005pylv00003bp8u', '005yks200000al7n', '002dc7w0000386ns', '004armj000057u0n', '0043q5o000008pan', '001sq3l000018s2m', '005t7u0000017kro', '003637g00000s7vb', '000e45m0000063a9', '005crzk0000026rk', '003v5dt000010tje', '005uu7s00008yaox', '0040ssd00000udwe', '000edte00001nbp2', '0007s6q000026wqx', '00095ud0000009en', '005jy3w000017vc3', '003fspw00002pa61', '005fp2v00000ym70', '005yzs300004g7kf', '005qd2e00008rfzp', '005artc000017kro', '00566e200001owgk', '005qgu200006vy7z', '0001a8h000000cgp', '001z4tt00000dk3b', '005uuu2000087d3e', '000nor20000009r9', '000nsmo00000o096', '004468l00002srj5', '005k205000006vrd', '005sw0m000050ncb', '0001h5p04000nx71', '0011fvv000010khh', '001fkt6000008tdz', '005yv4m000009add', '003kn1n00000byn8', '0054jar000010dxq', '005o1mw000036csb', '005z5t20000376l8', '0006ggl00001lqzb', '005scwz00000fxtj', '004vsgs00006ku1h', '0055dz800000w1k3', '005ozgl00008gcwm', '001qghh00003brnj', '000t9ix00000o54h', '000fcc0000002rp0', '00438eh000058uuj', '005r3tl00008mx4w', '000bi1o000000j01', '0055w1r000065llk', '004fqhb00002i9e1', '0035wt300001cgym', '0041cho00006a5i4', '005i29000008b7by', '0061pcp000028ogg', '001lcql00003an6e', '00112uf00001gm5w', '005ervg00002wwwf', '001ya2h00004l8mb', '005bzsd00000qike', '0058nsw00000w1k3', '003cbxo00002go12', '004wukx000075g6m', '000kv9w00000mycz', '003s7o900001wni0', '0055xtm0000651ef', '0019o4j00000vnzr', '0061q7x0000934jy', '004xnwd000074ep7', '005jaiu00005yg3b', '000l0b000000m3ui', '005ok3n00000mdr1', '0048mv00000192ir', '005jur700004wodq', '000lzgb00002gb93', '005i2q30000738bp', '005u6g600000djrn', '004gf8d00000cl53', '001o798000012rrg', '000uno1000017040', '0060cm000001mlk6', '0042s0v00006bx9f', '004v6zf000064djv', '005n4o70000151n1', '005ird000005zbd7', '0052hyd00006r2n9', '005qrmk0000882dk', '004ietb0000007pt', '000moc90000099oz', '005e8vm00004c1nw', '003pugm00000no5t', '0060jkw00004gmqj', '005sp8a000035rpv', '005f3a800000suwy', '000bjh5000002rp0', '001o2x000002we57', '005zioy00008egw4', '005otx3000015zlr', '002yx5z000033fn1', '001qd9r00000att2', '003bkhz00000yz5b', '003uhp8000000jyr', '005l6ds00007bxm6', '001dw3j000039j90', '0003475000001966', '0039qit000010rs6', '000spth00000gryy', '005isvn00000juf5', '0058chj00006e1lq', '004a8xu00003v626', '005cewt000018u62', '005rnox000010ovd', '0061vcp00006ejke', '005jkwi00003rd54', '005h36x00002ow78', '005vo5s00008z1fu', '003jb6b00001gyvk', '000lplz000000o8u', '004s0gg00002cdcb', '005iu1h00000hs87', '004zrt4000071k71', '002zq3q000000kuk', '005voyy000080bgp', '001tpuh000008jw2', '003xixr000001x96', '005sogi0000123sl', '001y8st000012s2u', '005dwcs000051m5h', '005phsm00002o3st', '0004ux7000003t0k', '005aa7c00004a0ru', '000sezx00000eeju', '00559yx00003g5nv', '005crmq000012taf', '000zg2l000002wdy', '005vink0000695m8', '005yvtx00003321k', '004upjn0000595x1', '0043gn0000000kuk', '005t7kn00007my62', '005tbyh000011ylf', '003lcda000006czb', '005xqa5000090h2p', '005jomn00000daho', '0055zfa000000aex', '0010ebp00000wzbk', '005t3me00000ym70', '005a4iy00004wkog', '004dq3t000063v02', '005xbw400001iclq', '0061u4q000005dez', '005o13200004gpxg', '004uqbo000010bn0', '005krnd00006b07i', '005ggrt000079e8k', '006179m00006q8tm', '002e1t7000011t1m', '0003vj7000000t5a', '004vi4400006jsnp', '000znk200000csl0', '005vcc600003vdsb', '00564a000007hm35', '0048enx00000vnwc', '0061d1900000glib', '005kn6a000019cl4', '000b6mu00000h4av', '005592900004tss1', '001wduf00000xca9', '000ac6b000000rkw', '005rtar000067xw8', '0052j9x00001hpo0', '001sufy00000tjmq', '0031akw00005mb88', '0050vod000000vyk', '0060n3h000019pe6', '0005vig000001wvb', '0000inn000000q63', '0056s2p00000w1k3', '0058sx500000hiao', '005fnn800003ayfo', '005s0ea00000ym70', '000ds34000008jbl', '005dvfc0000231ei', '001lzmn00000bv9f', '005uajy00007m4n1', '000hfxx00000cfhi', '005ox3j00005ouzc', '005tzcl00000tg4g', '005xxxl00008ugz1', '002876h000003jdh', '005z17o00006qpyn', '0012h50000009g23', '005q4ak000001odj', '000642a0000017lc', '005ti7x00005swbt', '004y3ad00000u24g', '005dqji00006a4ny', '005diyv00007sd11', '00012ai000000plj', '00010of00000hueu', '00594zp000000i39', '000gpjm000006ob7', '0006cai000002boz', '0031mjx00000u1pk', '005ux5100003rsij', '000a00e00000c46c', '0056qye000019cl4', '004d21b000002wdy', '003qett000014okr', '005sasv00000suwy', '002v6ya00004djt8', '005hduj0000595x1', '003zt5300000csl0', '002i9ir000055ypw', '001porl00001idft', '0053jet00000att2', '0060a5f00007qnvr', '005xdqw0000317en', '005brot00002zgu2', '004vm7000000d5oz', '005zw1s00002m2vw', '00402t400005zjof', '002mvas00000098l', '005bmj900002u9ya', '005esiy00000fgj1', '000ljz3000002tw8', '00627c000005gi42', '004zp2y00000w1k3', '005ld3o00008hspq', '005ogs800006o85u']
    query_vec, docs_vec, time_consume = get_pic_vec(
        obj_list, query, 128)
    print("query_vec:", len(query_vec))
    print("docs_vec:", len(docs_vec[0]))
    print("time_consume", time_consume)
